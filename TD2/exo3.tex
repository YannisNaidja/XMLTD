\chapter{XPath : films}

Exprimer en XPath les interrogations suivantes.

\section{Le numéro des trains qui possèdent une voiture-bar}
\begin{minted}[linenos, breaklines]{xquery}
  /gare/train/voiture/bar/parent::voiture/parent::train/@numero)
\end{minted}

\section{Le nom des usages ayant effectué au moins une réservation ;}
\begin{minted}[linenos, breaklines]{xquery}
  /gare/usager[@id = /gare/train/voiture/resa/@id]/@nom
\end{minted}

(Extra) Est-il possible d’exprimer en XPath les requêtes suivantes ?

\section{Le numéro des trains dont au moins 2 places sont réservées :}
\begin{minted}[linenos, breaklines]{xquery}
  /gare/train/voiture[count(resa) >= 2]/parent::train/@numero
\end{minted}


\section{Le nom des personnes ayant réservé exactement deux fois.}
Impossible, car en XPath on ne peut pas compter le nombre d'occurence d'un attribut

\section{Les usagers n’ayant effectué aucune réservation}
\begin{minted}[linenos, breaklines]{xquery}
  /gare/usager[not(@id = /gare/train/voiture/resa/@id)]
\end{minted}
